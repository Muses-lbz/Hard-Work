### 层次体系——Linux系统

------

| 序号 |        描述        | 状态 |
| :--: | :----------------: | :--: |
|  1   |   基本概念和命令   |      |
|  2   |   用户和权限管理   |      |
|  3   |      进程管理      |      |
|  4   |      包管理器      |      |
|  5   |      文本处理      |      |
|  6   |     Shell 编程     |      |
|  7   | 系统监控和性能优化 |      |
|  8   |   网络配置和管理   |      |
|  9   |   文件和目录操作   |      |
|  10  | 计划任务和定时任务 |      |
|  11  |   硬件信息和管理   |      |
|  12  | 启动过程和运行级别 |      |
|      |                    |      |

------

在Linux系统方面，以下是一些你可能需要了解的重要知识点，特别是在面试时可能会被问到的：

1. **基本概念和命令：**
   - Linux的起源和特点。
   - 文件系统层级结构：/bin、/etc、/home等目录的作用。
   - 常用命令：ls、cd、pwd、cp、mv、rm、mkdir、rmdir等基本操作命令。

2. **用户和权限管理：**
   - 用户和组的概念。
   - 用户管理命令：useradd、usermod、userdel等。
   - 权限：文件权限、用户组、其他用户的读写执行权限。

3. **进程管理：**
   - 进程的概念。
   - 进程状态：运行、等待、停止等状态。
   - 进程管理命令：ps、top、kill、nice、renice等。

4. **包管理器：**
   - 不同Linux发行版的包管理器，如APT、YUM、Pacman等。
   - 包管理命令：安装、更新、卸载软件包。

5. **文本处理：**
   - 常用文本处理工具：grep、sed、awk等。
   - 文本编辑器：Vi/Vim和Nano的基本使用。

6. **Shell编程：**
   - Shell脚本的基本语法。
   - 变量、条件语句、循环、函数等。

7. **系统监控和性能优化：**
   - 系统资源监控工具：top、htop、vmstat、iostat等。
   - 日志文件：/var/log下的日志文件，如syslog。

8. **网络配置和管理：**
   - ifconfig和ip命令：网络接口的配置和管理。
   - 网络服务管理：如启动、停止和重启网络服务。

9. **文件和目录操作：**
   - 文件权限和所有者：chmod、chown、chgrp命令。
   - 文件查找：find命令。

10. **计划任务和定时任务：**
    - cron和at命令：设置和管理定时任务。

11. **硬件信息和管理：**
    - 硬件信息查看命令：lshw、lscpu、lsblk等。
    - 设备管理：udev规则、设备挂载。

12. **启动过程和运行级别：**
    - Linux启动过程：BIOS/UEFI、引导加载程序、内核、init或systemd等。
    - 运行级别：不同的运行级别对应不同的系统状态。

------

#### 1. 基本概念和命令

**Linux的起源和特点：**
Linux操作系统的起源可以追溯到1991年，由芬兰计算机科学家Linus Torvalds开发而成。他最初创建了一个用于个人电脑的小型操作系统内核，后来通过开源方式将其发布，并吸引了全球各地的开发者一同参与开发，从而演化成了如今功能强大且广泛使用的Linux操作系统。

Linux的特点包括：

1. **开源：** Linux操作系统是开源的，这意味着其源代码对任何人都是可见的，任何人都可以自由地查看、修改和分发它。

2. **多用户和多任务：** Linux支持多用户同时使用一台机器，并且能够处理多个任务，使得它在服务器领域得到广泛应用。

3. **稳定性和安全性：** Linux在稳定性和安全性方面表现出色。它能够长时间运行而不需要频繁的重新启动，且对于安全性问题有着积极的应对机制。

4. **灵活性：** Linux操作系统可以根据用户的需要进行定制和配置，从而适用于各种不同的用途和环境。

5. **多种硬件支持：** Linux可以运行在多种不同的硬件平台上，从个人电脑到嵌入式设备，以及服务器和超级计算机等。

**文件系统层级结构：**
Linux文件系统采用了一种层级结构，以树形目录结构来组织文件和目录。以下是一些常见目录的作用：

- **/bin：** 存放基本的系统执行文件（可执行命令），如ls、cp等。这些命令对于系统的基本操作是必需的，通常在启动过程中就会加载。

- **/etc：** 存放系统的配置文件，例如网络配置、用户账户信息、软件配置等。

- **/home：** 用户的主目录，每个用户在这里有一个自己的文件夹，用于存放个人文件和设置。

- **/usr：** 存放用户程序和文件，类似于“用户软件资源”，包括用户安装的应用程序和工具。

- **/var：** 存放变量数据，例如日志文件、缓存等，这些数据在运行过程中会发生变化。

- **/tmp：** 用于存放临时文件，系统重启时会清空其中的内容。

- **/dev：** 包含设备文件，Linux将硬件设备和文件都视为文件，所以设备也在文件系统中表现为文件。

- **/mnt：** 通常用于挂载其他文件系统，比如外部存储设备、网络共享等。

**常用命令：**
以下是一些基本的Linux命令和其功能：

- **ls：** 列出目录中的文件和子目录。

- **cd：** 切换当前工作目录。

- **pwd：** 显示当前工作目录的路径。

- **cp：** 复制文件或目录。

- **mv：** 移动文件或目录，也可以用于重命名。

- **rm：** 删除文件或目录。

- **mkdir：** 创建新目录。

- **rmdir：** 删除空目录。

这些命令是在Linux系统中进行基本文件和目录操作的关键工具，它们可以帮助你管理文件系统中的内容。不过，在使用这些命令时请务必小心，以免不小心删除或移动重要的数据。

------

#### 2. 用户和权限管理

**用户和组的概念：**
在Linux系统中，用户（user）是系统中的个体，每个用户都有自己的用户名和密码，用于登录系统并执行操作。组（group）是用户的集合，用户可以属于一个或多个组。用户和组的概念有助于更好地管理文件和资源的访问权限。

**用户管理命令：**

- **useradd：** 用于创建新用户。例如，`useradd newuser`将创建一个名为"newuser"的新用户。

- **usermod：** 用于修改用户属性，如修改用户名、用户ID、所属组等。例如，`usermod -l newname oldname`将用户名从"oldname"改为"newname"。

- **userdel：** 用于删除用户。例如，`userdel username`将删除名为"username"的用户。

**权限：**

在Linux系统中，每个文件和目录都有权限设置，控制着谁可以对其进行读取、写入和执行操作。权限分为三组，分别是文件所有者（Owner）、文件所属组（Group）和其他用户（Others）。

每组权限分为三种：

- **读权限（r）：** 允许查看文件内容或查看目录中的文件列表。
- **写权限（w）：** 允许修改文件内容或在目录中创建、删除文件。
- **执行权限（x）：** 对于文件，允许作为可执行文件运行；对于目录，允许进入目录。

除了基本权限外，还有特殊权限：

- **文件的SUID权限：** 允许用户在执行文件时以文件所有者的权限运行。
- **文件的SGID权限：** 允许用户在执行文件时以文件所属组的权限运行。
- **文件的Sticky位：** 用于目录，防止其他用户删除非自己创建的文件。

用户组也在权限控制中发挥作用，一个文件的所属组可以与多个用户相关联，从而在组内共享权限。

你可以使用`chmod`命令来修改文件和目录的权限，例如：
- `chmod +rwx file`：为文件添加读、写、执行权限。
- `chmod -rwx file`：移除文件的读、写、执行权限。
- `chmod u+r file`：为文件的所有者添加读权限。

要更改文件的所有者或所属组，可以使用`chown`和`chgrp`命令，例如：
- `chown newuser file`：将文件的所有者更改为"newuser"。
- `chgrp newgroup file`：将文件的所属组更改为"newgroup"。

权限管理是Linux系统中非常重要的一部分，可以通过正确设置权限来确保文件和目录的安全性和隐私。

------

#### 3. 进程管理

**进程的概念：**
在计算机科学中，进程是指正在执行的一个程序实例。每个进程都有自己的代码、数据、系统资源等，操作系统通过进程管理来控制和调度这些进程，使得多个进程可以在单个计算机上并行运行。

**进程状态：**
进程可以处于不同的状态，其中一些常见的状态包括：

- **运行（Running）：** 进程正在CPU上执行。
- **等待（Waiting）：** 进程因为某些原因暂时无法执行，通常在等待某个事件的发生，比如等待I/O操作完成。
- **停止（Stopped）：** 进程被暂停，不再运行，但仍然存在于内存中。
- **僵尸（Zombie）：** 进程已经终止，但其退出状态信息还未被父进程获取，因此仍然存在于进程表中。
- **僵尸后停止（Zombie Stopped）：** 僵尸进程进一步被停止。

**进程管理命令：**

- **ps：** 用于查看系统中当前正在运行的进程。常用选项包括`ps aux`（显示所有用户的所有进程）和`ps -ef`（以完整格式显示进程信息）。

- **top：** 以交互方式实时显示系统中运行的进程，包括CPU和内存使用情况。可以使用键盘上的快捷键来进行操作。

- **kill：** 用于终止一个正在运行的进程。语法为`kill [signal] PID`，其中signal是信号编号，常用的信号有`-9`（强制终止）和`-15`（默认终止信号）。

- **nice：** 设置进程的优先级，使得某个进程在竞争CPU时间时获得更多或更少的权重。语法为`nice -n value command`，其中`value`是优先级值，范围从-20（最高优先级）到19（最低优先级）。

- **renice：** 修改正在运行进程的优先级。语法为`renice -n value -p PID`，其中`value`为新的优先级值，`PID`为进程ID。

这些命令能够帮助你管理和监控系统中的进程，以确保系统资源的合理利用和进程的正常运行。

------

#### 4. 包管理器

**不同Linux发行版的包管理器：**

不同的Linux发行版（如Ubuntu、CentOS、Arch Linux等）使用不同的包管理器来管理软件包的安装、更新和卸载。以下是一些常见的包管理器：

- **APT（Advanced Package Tool）：** APT是Debian及其衍生发行版（如Ubuntu）所使用的包管理器。它可以通过命令行工具如`apt-get`和`apt`来操作软件包。

- **YUM（Yellowdog Updater Modified）：** YUM是Red Hat及其衍生发行版（如CentOS）使用的包管理器。它可以通过命令行工具如`yum`来操作软件包。

- **Pacman：** Pacman是Arch Linux发行版使用的包管理器，可以通过命令行工具来操作软件包。

- **DNF（Dandified YUM）：** DNF是Fedora发行版引入的包管理器，与YUM类似，但具有一些改进和特性。

- **Zypper：** Zypper是openSUSE发行版使用的包管理器，可以通过命令行工具来操作软件包。

**包管理命令：**

虽然不同的包管理器具有不同的命令，但它们通常都提供类似的功能来管理软件包，包括安装、更新和卸载。

**APT命令：**

- **安装软件包：** `sudo apt-get install package-name`
- **更新软件包列表：** `sudo apt-get update`
- **升级已安装软件包：** `sudo apt-get upgrade`
- **升级整个系统：** `sudo apt-get dist-upgrade`
- **卸载软件包：** `sudo apt-get remove package-name`
- **搜索软件包：** `apt-cache search keyword`

**YUM/DNF命令：**

- **安装软件包：** `sudo yum install package-name` 或 `sudo dnf install package-name`
- **更新软件包：** `sudo yum update` 或 `sudo dnf update`
- **升级已安装软件包：** `sudo yum upgrade` 或 `sudo dnf upgrade`
- **卸载软件包：** `sudo yum remove package-name` 或 `sudo dnf remove package-name`
- **搜索软件包：** `yum search keyword` 或 `dnf search keyword`

**Pacman命令：**

- **安装软件包：** `sudo pacman -S package-name`
- **更新软件包：** `sudo pacman -Sy`
- **升级已安装软件包：** `sudo pacman -Syu`
- **卸载软件包：** `sudo pacman -R package-name`
- **搜索软件包：** `pacman -Ss keyword`

根据你使用的Linux发行版和其对应的包管理器，你可以使用上述命令来管理软件包的安装、更新和卸载。

------

#### 5. 文本处理

**常用文本处理工具：**

- **grep：** 用于在文本文件中搜索指定的模式。例如，`grep pattern file`将在文件中查找并显示包含匹配模式的行。

- **sed：** 流编辑器，用于对文本流进行编辑操作。它可以实现搜索、替换、删除等操作。例如，`sed 's/old/new/' file`将在文件中将第一个匹配的"old"替换为"new"。

- **awk：** 强大的文本处理工具，逐行处理文本文件，并可以执行复杂的文本分析和处理任务。例如，`awk '{print $1}' file`将打印每行的第一个字段。

**文本编辑器：**

- **Vi/Vim：** Vi是一个强大的文本编辑器，存在于大多数Linux系统中。Vim（Vi Improved）是Vi的改进版本，提供了更多功能。要打开一个文件，可以使用命令`vi filename`或`vim filename`，然后按下`i`键进入插入模式进行编辑，按下`Esc`键退出插入模式。保存文件并退出Vi，可以在命令模式下输入`:wq`。

- **Nano：** Nano是一个简单易用的终端文本编辑器，适合新手使用。要打开一个文件，可以使用命令`nano filename`，然后直接进行编辑。保存文件并退出Nano，可以按下`Ctrl + O`来保存，然后按下`Ctrl + X`退出。

这些文本处理工具和编辑器可以帮助你在Linux系统中进行各种文本操作和编辑任务，从简单的搜索和替换到复杂的数据处理，都可以通过它们来实现。

------

#### 6. *Shell 编程

**Shell脚本的基本语法：**

Shell脚本是一种用于编写一系列Shell命令的脚本文件，可以在终端中执行。以下是Shell脚本的基本语法：

1. **Shebang行：** 在脚本文件的第一行，用`#!/bin/bash`或其他Shell解释器路径指定要使用的Shell。

2. **注释：** 使用`#`符号来注释代码，注释内容会被解释器忽略。

3. **命令：** 每行可以包含一个或多个命令，命令之间用分号或换行分隔。

**变量、条件语句、循环、函数等：**

- **变量：** 在Shell脚本中，你可以定义变量来存储数据。变量名不需要事先声明，赋值时不需要特定的数据类型。例如：`name="John"`

- **条件语句：** 使用`if`语句来进行条件判断。例如：

```bash
if [ $age -gt 18 ]; then
    echo "Adult"
else
    echo "Minor"
fi
```

- **循环：** 使用`for`和`while`循环来重复执行一系列操作。例如：

```bash
for i in {1..5}; do
    echo $i
done
```

- **函数：** 使用`function`或简写`()`来定义函数，以便在脚本中封装一系列命令。例如：

```bash
function greet {
    echo "Hello, $1!"
}

greet "Alice"
```

这些是Shell脚本的基本元素，你可以将它们组合起来以实现复杂的任务和逻辑。Shell编程对于自动化、批量处理和系统管理等任务非常有用。对于更复杂的脚本，你还可以掌握数组、文件处理、正则表达式等高级特性。

------

#### 7. *系统监控和性能优化

**系统资源监控工具：**

- **top：** top命令显示实时的系统运行状况，包括CPU、内存和进程等信息。它按照CPU使用率降序排列进程，可以使用键盘上的快捷键来进行操作和排序。

- **htop：** htop是top的改进版本，提供更加交互式的界面和更多的信息展示。它可以显示进程的层次关系，使用颜色区分进程状态等。

- **vmstat：** vmstat命令用于监控系统虚拟内存、进程、CPU等信息。它可以周期性地显示系统资源使用情况，例如内存交换、CPU上下文切换等。

- **iostat：** iostat命令用于监控系统的磁盘和I/O性能。它可以显示设备的读写速率、I/O等待时间等信息。

**日志文件：**

在Linux系统中，各种活动、事件和错误的信息通常会被记录在日志文件中，以便进行故障排除和系统监控。常见的日志文件路径是`/var/log`。

- **syslog：** syslog是一个系统日志记录守护进程，负责收集、处理和分发系统日志信息。/syslog文件夹下的文件记录了系统事件和消息。

- **auth.log：** 记录系统认证（如登录和身份验证）的信息。

- **kern.log：** 记录内核相关的信息，如启动、硬件、驱动等。

- **messages：** 通用的系统信息日志。

- **dmesg：** 包含内核环缓冲区的内容，记录了启动时的内核消息。

- **secure：** 记录与系统安全相关的信息。

- **auth.log：** 记录用户认证信息，包括登录、密码更改等。

通过查看这些日志文件，你可以了解系统的运行状态、问题和事件，以便进行适当的诊断和处理。

------

#### 8. 网络配置和管理

**ifconfig和ip命令：**

- **ifconfig：** ifconfig命令用于配置和管理网络接口。它可以显示当前系统中所有网络接口的信息，以及设置IP地址、子网掩码、网关等。但在一些新的Linux发行版中，ifconfig已经逐渐被弃用，取而代之的是ip命令。

- **ip：** ip命令是ifconfig的替代工具，用于配置和管理网络接口、路由表、策略路由等。它更加强大且灵活，支持更多网络功能。

**网络服务管理：**

在Linux系统中，你可以使用不同的命令来启动、停止和重启网络服务。这些命令可以根据你的发行版和系统配置而有所不同。

- **systemctl：** 通常在使用Systemd作为初始化系统的发行版中，可以使用systemctl命令来管理各种系统服务，包括网络服务。例如：
  - 启动服务：`sudo systemctl start network.service`
  - 停止服务：`sudo systemctl stop network.service`
  - 重启服务：`sudo systemctl restart network.service`

- **service：** 在使用SysV初始化系统的发行版中，可以使用service命令来管理系统服务。例如：
  - 启动服务：`sudo service networking start`
  - 停止服务：`sudo service networking stop`
  - 重启服务：`sudo service networking restart`

根据你的发行版和系统版本，网络管理命令可能会有所不同。最好查阅官方文档或手册以获得准确的操作指南。网络配置和管理是确保系统正确连接到网络并正常运行的关键部分。

------

#### 9. 文件和目录操作

**文件权限和所有者：**

- **chmod：** chmod命令用于修改文件或目录的权限。可以使用数字模式（如755）或符号模式（如+rx）来设置权限。例如，`chmod 755 file`将文件的权限设置为所有者可读写执行，组和其他用户可读和执行。

- **chown：** chown命令用于修改文件或目录的所有者。例如，`chown newowner file`将文件的所有者更改为"newowner"。

- **chgrp：** chgrp命令用于修改文件或目录的所属组。例如，`chgrp newgroup file`将文件的所属组更改为"newgroup"。

**文件查找：**

- **find：** find命令用于在文件系统中查找文件和目录。可以根据不同的条件来搜索文件，如文件名、类型、大小等。例如，`find /path/to/search -name "filename"`将在指定路径下按照文件名查找文件。

一些常用的find命令选项：

- `-name`: 根据文件名进行搜索。
- `-type`: 根据文件类型（如f表示文件、d表示目录）进行搜索。
- `-size`: 根据文件大小进行搜索。
- `-user`: 根据文件所有者进行搜索。
- `-group`: 根据文件所属组进行搜索。

综合使用这些命令，你可以更好地管理文件和目录的权限、所有者，并且能够在文件系统中查找指定的文件。

------

#### 10. *计划任务和定时任务

在Linux系统中，可以使用`cron`和`at`命令来设置和管理定时任务，让系统在预定的时间自动执行特定的任务。

- **cron：** `cron`是一个用于定时任务的守护进程。它允许你按照特定的时间表来运行命令、脚本和程序。`cron`配置文件一般存储在`/etc/crontab`或用户的个人crontab文件中。每个cron任务由五个时间字段（分、时、日、月、周）和要执行的命令组成。

  你可以使用`crontab`命令来编辑用户的cron任务，例如：
  - `crontab -e`：编辑当前用户的cron任务。
  - `crontab -l`：列出当前用户的cron任务。
  - `crontab -r`：删除当前用户的cron任务。

- **at：** `at`命令允许你在特定的一次性任务中运行命令。与`cron`不同，它适用于即时性的任务，而不需要设置固定的时间表。你可以在命令行中使用`at`命令来定义任务执行的时间和要执行的命令。例如：
  - `at now + 1 hour`：在一小时后执行任务。
  - `at 2:00 PM tomorrow`：在明天下午两点执行任务。

`cron`和`at`是在Linux系统中非常有用的工具，它们使得自动化任务和定时执行变得非常方便。无论是备份数据、清理临时文件，还是定时生成报告，这些命令都能够帮助你轻松管理定时任务。

------

#### 11. *硬件信息和管理

**硬件信息查看命令：**

- **lshw：** lshw（硬件列表）命令用于显示系统中的硬件信息，包括CPU、内存、磁盘、网络设备等。使用`sudo lshw`可以获取更详细的信息。

- **lscpu：** lscpu命令用于显示CPU的信息，如型号、核心数、线程数等。

- **lsblk：** lsblk命令用于列出系统上的块设备（如硬盘和分区）及其挂载情况。

**设备管理：**

- **udev规则：** udev是Linux系统中用于设备管理的子系统，它负责在设备插入或系统启动时自动识别和配置硬件设备。udev规则允许你定义自定义规则，以便在特定事件发生时执行操作，如加载模块、创建设备别名等。

- **设备挂载：** 设备挂载是将硬件设备（如硬盘分区、USB驱动器）连接到文件系统的过程。使用`mount`命令可以手动挂载设备，使用`umount`命令可以卸载设备。文件`/etc/fstab`中的条目可以定义在系统启动时自动挂载的设备。

这些命令和技术可以帮助你查看和管理系统中的硬件信息，以及配置设备的挂载和自动识别。它们在系统管理和维护中起着重要作用。

------

#### 12. 启动过程和运行级别

**Linux启动过程：**

Linux的启动过程包括以下主要步骤：

1. **BIOS/UEFI：** 计算机启动时，首先会执行计算机的基本输入/输出系统（BIOS）或统一的可扩展固件接口（UEFI）。它们负责初始化硬件并引导引导加载程序。

2. **引导加载程序：** 引导加载程序（如GRUB）负责从硬盘上加载操作系统内核。引导加载程序在引导扇区中，它会读取并加载内核。

3. **内核：** 内核是操作系统的核心，负责管理系统资源、进程、内存等。在启动过程中，内核会初始化硬件并加载必要的驱动程序。

4. **init或systemd：** 在早期的Linux系统中，init是第一个进程，负责初始化系统。而在现代Linux系统中，通常使用systemd作为初始化系统，它负责启动和管理系统中的各种服务和进程。

**运行级别：**

运行级别是指系统处于不同状态下的不同配置集合。每个运行级别对应于不同的系统状态，例如单用户模式、多用户模式等。在传统的SysV初始化系统中，运行级别从0到6，分别代表不同的状态，如：

- **0：** 关机状态。
- **1：** 单用户模式，用于系统维护和故障修复。
- **2：** 多用户模式，不包括网络服务。
- **3：** 多用户模式，包括网络服务。
- **4：** 保留状态，可以自定义。
- **5：** 图形界面模式。
- **6：** 重新启动状态。

而在使用systemd的系统中，运行级别的概念被替代为"targets"，其中每个target定义了特定的系统状态和服务。例如，`multi-user.target`对应多用户模式，`graphical.target`对应图形界面模式等。

了解系统的启动过程和运行级别可以帮助你更好地理解和管理Linux系统的初始化和状态切换。

------

